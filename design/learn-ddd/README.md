# DDD を学ぶ（基礎）

## 課題１

### 以下の用語を解説してください

#### エンティティ

エンティティは属性ではなく一意の識別子を持ち識別されるオブジェクト。
例えば商品 ID を持つ商品などが該当します。

- 可変である
- 同じ属性であっても区別される
- 同一性により区別される

#### 値オブジェクト（バリューオブジェクト）

値オブジェクトは、一意の識別子を持たず Immutable なオブジェクトです。
値自体に意味があります。例えば住所、日付、金額などが該当し同じ値であれば同一とみなされます。

#### 集約(アグリゲート)

関連するオブジェクトの集合(アグリゲート)で、関連するエンティティや値オブジェクトを一つの単位としてまとめたものです。
集約にはルートエンティティ(root entity)が存在し、外部からのアクセスはルートエンティティを介して行われます。

#### ユビキタス言語

ユビキタス言語とは、エンジニアとビジネス側が共通して使用する言語のことです。共通言語があることで双方の認識のズレをなくしビジネスロジックを正確にコードに反映することができます。

#### 境界づけられたコンテキスト

境界づけられたコンテキストとは、ドメイン内の特定の部分を明確に区切った領域のことです。
各コンテキスト内ではユビキタス言語(共通言語)の意味が一貫しており、外部とのインターフェースや統合のポイントを明確にします。

#### ドメイン

ドメインとはソフトウェアが解決しようとする問題領域や業務領域を指します。ドメインの理解は適切なドメインモデルの構築に不可欠です。

#### ドメインサービス

ドメインサービスは、ドメインの振る舞いを明確にするビジネスロジックを提供するオブジェクトです。
複数のエンティティにまたがり操作を行います。

#### リポジトリ

リポジトリはエンティティの永続化と取得を抽象化するオブジェクトです。データベースなどのストレージからエンティティを保存・所得する際に使用され、ドメイン層とデータアクセス層の間の橋渡しを行います。

#### アプリケーション（ユースケース層と呼ばれることも）

アプリケーションサービスは、ユーザー要求やユースケースに応じてドメインモデルを利用し処理を行う層です。ユーザーインターフェースとドメインモデルの間を取り持ちます。この層はドメインロジック自体を持たず、あくまでドメインモデルの操作を調整する役割を果たします。

#### CQS/CQRS（似ているため、違いを重点的に調べてみましょう）

CQS(Command Query Separation) - オブジェクトのメソッドをコマンド(状態の変更)とクエリ(状態の取得)に分ける設計原則です。
CQRS(Command Query Responsibility Segregation) - システム全体をコマンド(書き込み)とクエリ(読み取り)で分離するアーキテクチャパターンです。
主な違い: CQS はオブジェクトの設計原則で、CQRS はシステムアーキテクチャのパターンです。

#### DTO(Data Transfer Object)

システム間や層間でデータを転送するためのオブジェクトです。例えばユーザー情報を外部に提供する際、ドメインオブジェクトを直接渡すのではなく、必要な情報のみが入っている DTO を作成し提供します。

#### ドメインモデル貧血症

ドメインモデルがデータのみを保持し、ビジネスロジックや振る舞いを持たない状態を指すアンチパターンです。
この状態ではビジネスロジックがサービス層や他の場所に分散し、低凝集になります。ドメインモデルにビジネスロジックや振る舞いを適切に組み込み高凝集にします。
