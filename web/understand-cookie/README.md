## クッキーを理解する

### 課題 1 (質問)

```
クッキーとは何でしょうか？「Set-cookie」「ヘッダ」「サーバ」「ブラウザ」という単語を使って、クッキーの仕組みを説明してみてください

解答: ブラウザへ対してサーバがレスポンスを送信するときに`Set-Cookie`ヘッダーを設定することで小さなデータをブラウザに保存させることができる。CookieはステートレスなHTTPプロトコルのためにステートフルな情報を記憶する。
```

```
www.hoge.comで発行されたクッキーは、www.fuga.comにも送信されるでしょうか？その理由を説明してください

解答: Domain=fuga.comと指定すれば可能。これはクッキーを送信する先のホストを定義することができる。指定されなかった場合は、この属性は規定で現在の文書のURLにおけるホスト名の部分になり、サブドメインを含まない。複数のホストやドメインの値を指定することはできないが、ドメインが指定された場合、全てのサブドメインが常に含まれます。
```

```
hoge.com:8080のクッキーはhoge.com:9090にも送信されるでしょうか？

解答:クッキーはドメインが同じであればポート番号に関係なく送信させれる。
RFC6265: Similarly, cookies for a given host are shared across all the ports on that host, even though the usual "same-origin policy" used by web browsers isolates content retrieved via different ports.
```

```
www.hoge.comで発行されたクッキーは、www.api.hoge.comにも送信されるでしょうか？

解答: 指定しないのであれば、Domainは規定上、文章のURLにおけるホスト名部分になり、サブドメインを含まない。
```


```
クッキーにDomain="hoge.com"を指定した場合、api.hoge.comにもクッキーは送信されるでしょうか？理由を説明してください

解答: ホスト名のみの指定の場合、全てのサブドメインが対象になります。
```

```
ブラウザで実行されるJavaScriptは場合によってはクッキーの値を取得できます。JavaScriptからクッキーの値が取得されることを防ぐことは可能でしょうか？どうすれば良いのでしょうか？

解答:HttpOnlyを指定することで、JavascriptがDocument.cookieプロパティなどを介してクッキーにアクセスすることを禁止できます。
```

```
クッキーにExpiresを設定すると、どのように挙動が変わるでしょうか？

解答: Expiresはクッキーの有効期限を示す、HTTPの日時タイムスタンプです。指定されなかった場合は、クッキーはセッションクッキーの寿命になります。セッションはクライアントが終了したときに終了するので、セッションクッキーはその時点で削除されます。
```


### 課題 2 (クイズ)